<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--
    <link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link href="favicon.ico" rel="Bookmark" type="image/x-icon" />
    -->
    <meta name="Generator" content="EditPlus®">
    <meta name="Author" content="">
    <meta name="Keywords" content="">
    <meta name="Description" content="">
    <!-- HTML5 Shim 和 Respond.js 用于让 IE8 支持 HTML5元素和媒体查询 -->
    <!-- 注意： 如果通过 file://  引入 Respond.js 文件，则该文件无法起效果 -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
    <title>UnionSelect</title>
    <link href="http://apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
<h1 align="center">下拉联动</h1>
<div id="" class="container">
    <form method="post" action="" class="form-horizontal" role="form">

        <div class="form-group"  id="cnMap">
            <label for="firstname" class="col-sm-3 control-label">全国<small> (省、市、县三级；包括提交表单的验证。)</small></label>
            <div class="col-sm-3">
                <select name="province" class="province form-control" disabled="disabled" data-first-title="选择省份"></select>
            </div>
            <div class="col-sm-3">
                <select name="city" class="city form-control" disabled="disabled"></select>
            </div>
            <div class="col-sm-3">
                <select name="region" class="region form-control" disabled="disabled"></select>
            </div>
        </div>

        <hr />

        <div class="form-group"  id="globalMap">
            <label for="firstname" class="col-sm-4 control-label">全球<small> (国、省、市、县三级；未做表单验证。)</small></label>
            <div class="col-sm-2">
                <select name="country" class="country form-control" disabled="disabled" data-first-title="选择国家"></select>
            </div>
            <div class="col-sm-2">
                <select name="state" class="state form-control" disabled="disabled"></select>
            </div>
            <div class="col-sm-2">
                <select name="city" class="city form-control" disabled="disabled"></select>
            </div>
            <div class="col-sm-2">
                <select name="region" class="region form-control" disabled="disabled"></select>
            </div>
        </div>

<!--
        <h2>全国</h2>
        <div id="cnMap">
            <select name="province" class="province" disabled="disabled" data-first-title="选择省份"></select>
            <select name="city" class="city" disabled="disabled"></select>
            <select name="region" class="region" disabled="disabled"></select>
        </div>

        <h2>全球</h2>
        <div id="globalMap">
            <select name="country" class="country" disabled="disabled" data-first-title="选择国家"></select>
            <select name="state" class="state" disabled="disabled"></select>
            <select name="city" class="city" disabled="disabled"></select>
            <select name="region" class="region" disabled="disabled"></select>
        </div>
-->
        <br />
        <button id="subBut" type="submit" class="btn btn-default">提交</button>
    </form>
<?php
if($_POST){
    echo "<br /><pre>";
    print_r($_POST);
}
?>
</div>
<script src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="js/jquery.cxselect.min.js"></script>
<script>
$('#cnMap').cxSelect({
    url: 'js/cityData.min.json',
    //url: 'js/cityData.min.json',
    selects: ['province', 'city', 'region'],
    nodata: 'none'
});

$('#globalMap').cxSelect({
  url: 'js/globalData.min.json',
  selects: ['country', 'state', 'city', 'region'],
  nodata: 'none'
});

//表单验证start
$("#subBut").click(function(){
    if (!$("#cnMap .province").val() && !$("#cnMap .province").attr('disabled'))
    {
        alert('请选择省份 :)');
        $("#cnMap .province").focus();
        return false;
    } else if (!$("#cnMap .city").val() && !$("#cnMap .city").attr('disabled')) {
        alert('请选择市 :)');
        $("#cnMap .city").focus();
        return false;
    } else if (!$("#cnMap .region").val() && !$("#cnMap .region").attr('disabled')) {
        alert('请选择县区 :)');
        $("#cnMap .region").focus();
        return false;
    } else {
        return true;
    }
});
//表单验证end
</script>
</body>
</html>